<div class="container my-4">

  <!-- ðŸ”¹ Step 1: Client Info -->
  <div *ngIf="step === 1" class="card p-4 shadow bg-body text-body fade-in">
    <h4 class="mb-4"><i class="bi bi-person-circle me-2"></i>Client Details</h4>

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="clientName" placeholder="Client Name" [(ngModel)]="client.name">
      <label for="clientName">Client Name</label>
    </div>

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="companyName" placeholder="Company Name" [(ngModel)]="client.companyName">
      <label for="companyName">Company Name</label>
    </div>

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="billingAddress" placeholder="Billing Address" [(ngModel)]="client.billingAddress">
      <label for="billingAddress">Billing Address</label>
    </div>

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="taxId" placeholder="Tax ID" [(ngModel)]="client.taxId">
      <label for="taxId">Tax ID</label>
    </div>

    <div class="form-floating mb-3">
      <input type="email" class="form-control" id="email" placeholder="Email" [(ngModel)]="client.email">
      <label for="email">Email</label>
    </div>

    <button class="btn btn-primary btn-animate" (click)="goToStep(2)">
      Next <i class="bi bi-arrow-right ms-1"></i>
    </button>
  </div>

  <!-- ðŸ”¹ Step 2: Invoice Info -->
  <div *ngIf="step === 2" class="card p-4 shadow bg-body text-body fade-in">
    <h4 class="mb-4"><i class="bi bi-file-text me-2"></i>Invoice Details</h4>

    <div class="form-floating mb-3">
      <input type="number" class="form-control" id="invoiceNumber" placeholder="Invoice Number" [(ngModel)]="invoice.invoiceNumber">
      <label for="invoiceNumber">Invoice Number</label>
    </div>

    <div class="mb-3">
      <label class="form-label">Issue Date</label>
      <input type="date" class="form-control" [(ngModel)]="invoice.issueDate">
    </div>

    <div class="mb-3">
      <label class="form-label">Due Date</label>
      <input type="date" class="form-control" [(ngModel)]="invoice.dueDate">
    </div>

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="paymentTerms" placeholder="Payment Terms" [(ngModel)]="invoice.paymentTerms">
      <label for="paymentTerms">Payment Terms</label>
    </div>

    <div class="mb-3">
      <label class="form-label">Status</label>
      <select class="form-select" [(ngModel)]="invoice.status">
        <option value="PENDING">Pending</option>
        <option value="PAID">Paid</option>
        <option value="OVERDUE">Overdue</option>
      </select>
    </div>

    <div class="d-flex justify-content-between">
      <button class="btn btn-secondary btn-animate" (click)="goToStep(1)">
        <i class="bi bi-arrow-left me-1"></i> Back
      </button>
      <button class="btn btn-primary btn-animate" (click)="goToStep(3)">
        Next <i class="bi bi-arrow-right ms-1"></i>
      </button>
    </div>
  </div>

  <!-- ðŸ”¹ Step 3: Invoice Items -->
  <div *ngIf="step === 3" class="card p-4 shadow bg-body text-body fade-in">
    <h4 class="mb-4"><i class="bi bi-list-ul me-2"></i>Invoice Items</h4>

    <div *ngFor="let item of invoiceItems; let i = index" class="border rounded p-3 mb-3 bg-body-secondary">
      <div class="form-floating mb-2">
        <input type="text" class="form-control" id="desc{{i}}" placeholder="Description" [(ngModel)]="item.description">
        <label for="desc{{i}}">Description</label>
      </div>

      <div class="row">
        <div class="col-md-3 mb-2">
          <input type="number" class="form-control" placeholder="Qty" [(ngModel)]="item.quantity">
        </div>
        <div class="col-md-3 mb-2">
          <input type="number" class="form-control" placeholder="Unit Price" [(ngModel)]="item.unitPrice">
        </div>
        <div class="col-md-3 mb-2">
          <input type="number" class="form-control" placeholder="Discount (%)" [(ngModel)]="item.discount">
        </div>
        <div class="col-md-3 mb-2">
          <input type="number" class="form-control" placeholder="Tax (%)" [(ngModel)]="item.tax">
        </div>
      </div>

      <div class="text-end">
        <button *ngIf="invoiceItems.length > 1" class="btn btn-outline-danger btn-sm btn-animate" (click)="removeItem(i)">
          <i class="bi bi-x-circle me-1"></i> Remove
        </button>
      </div>
    </div>

    <button class="btn btn-outline-primary mb-3 btn-animate" (click)="addItem()">
      <i class="bi bi-plus-circle me-1"></i> Add Item
    </button>

    <div class="d-flex justify-content-between">
      <button class="btn btn-secondary btn-animate" (click)="goToStep(2)">
        <i class="bi bi-arrow-left me-1"></i> Back
      </button>
      <button class="btn btn-success btn-animate" (click)="submitInvoice()">
        <i class="bi bi-check-circle me-1"></i> Submit Invoice
      </button>
    </div>
  </div>

</div>
